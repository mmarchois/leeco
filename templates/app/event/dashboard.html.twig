{% extends 'layout.html.twig' %}

{% block title %}
    {{ event.title }} - {{ parent() }}
{% endblock %}

{% block current_event %}
    {% include 'app/event/_current.html.twig' with { event } only %}
{% endblock %}

{% block main %}
    {% include 'common/breadcrumb.html.twig' with { items: [
        { title: 'event.list.title'|trans, path: path('app_events_list') },
        { title: event.title },
    ] } only %}

    <div class="mt-4 p-4 mb-4 bg-white rounded-lg shadow sm:p-6 xl:p-8 dark:bg-gray-800">
        <div class="md:grid md:grid-cols-2 lg:grid-cols-2 md:gap-12 md:space-y-0">
            <div class="flex flex-col items-center sm:flex-row">
                <img
                    class="mx-auto mb-4 w-36 h-36 rounded-full sm:ml-0 sm:mr-6"
                    src="{{ event.media ? awsPublicUrl ~ '/' ~ event.media.path : asset('images/placeholder.svg') }}"
                    alt="{{ event.title }}" />
                <div class="text-center sm:text-left">
                    <h1 class="text-2xl font-bold tracking-tight text-gray-900 dark:text-white">
                        {{ event.title }}
                    </h1>
                    <span class="text-gray-500 dark:text-gray-400">{% include 'app/event/_period.html.twig' with { startDate: event.startDate, endDate: event.endDate } only %}</span>
                    <ul class="mt-3 mb-4 max-w-sm font-light text-gray-500 dark:text-gray-400">
                        <li>
                            <div class="inline-flex">
                                <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m3 16 5-7 6 6.5m6.5 2.5L16 13l-4.286 6M14 10h.01M4 19h16a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1Z"/>
                                </svg>
                                <span class="text-gray-900 dark:text-white"><span class="font-bold">101</span> médias</span>
                            </div>
                        </li>
                        <li>
                            <div class="inline-flex">
                                <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                                    <path fill-rule="evenodd" d="M12 6a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7Zm-1.5 8a4 4 0 0 0-4 4 2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 4 4 0 0 0-4-4h-3Zm6.82-3.096a5.51 5.51 0 0 0-2.797-6.293 3.5 3.5 0 1 1 2.796 6.292ZM19.5 18h.5a2 2 0 0 0 2-2 4 4 0 0 0-4-4h-1.1a5.503 5.503 0 0 1-.471.762A5.998 5.998 0 0 1 19.5 18ZM4 7.5a3.5 3.5 0 0 1 5.477-2.889 5.5 5.5 0 0 0-2.796 6.293A3.501 3.501 0 0 1 4 7.5ZM7.1 12H6a4 4 0 0 0-4 4 2 2 0 0 0 2 2h.5a5.998 5.998 0 0 1 3.071-5.238A5.505 5.505 0 0 1 7.1 12Z" clip-rule="evenodd"/>
                                </svg>
                                <span class="text-gray-900 dark:text-white"><span class="font-bold">101</span> participants</span>
                            </div>
                        </li>
                        <li>
                            <div class="inline-flex">
                                <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                                <path fill-rule="evenodd" d="M15.03 9.684h3.965c.322 0 .64.08.925.232.286.153.532.374.717.645a2.109 2.109 0 0 1 .242 1.883l-2.36 7.201c-.288.814-.48 1.355-1.884 1.355-2.072 0-4.276-.677-6.157-1.256-.472-.145-.924-.284-1.348-.404h-.115V9.478a25.485 25.485 0 0 0 4.238-5.514 1.8 1.8 0 0 1 .901-.83 1.74 1.74 0 0 1 1.21-.048c.396.13.736.397.96.757.225.36.32.788.269 1.211l-1.562 4.63ZM4.177 10H7v8a2 2 0 1 1-4 0v-6.823C3 10.527 3.527 10 4.176 10Z" clip-rule="evenodd"/>
                                </svg>
                                <span class="text-gray-900 dark:text-white"><span class="font-bold">101</span> réactions</span>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="flex flex-col md:items-end">
                <a href="{{ path('app_events_edit', { eventUuid: event.uuid }) }}" class="flex items-center justify-center px-4 py-2 text-sm font-medium text-white rounded-lg bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 focus:outline-none dark:focus:ring-primary-800">
                    <svg class="h-3.5 w-3.5 mr-2 -ml-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z"/>
                    </svg>
                    {{ 'common.edit'|trans }}
                </a>
            </div>
        </div>
    </div>

    <div class="mb-4 md:grid md:grid-cols-2 lg:grid-cols-2 gap-6 md:space-y-0">
        <div class="p-4 bg-white rounded-lg shadow sm:p-6 xl:p-8 dark:bg-gray-800">
            <h2 class="mb-4 text-xl font-bold dark:text-white">Top participants</h2>
            <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
                <tbody>
                    <tr class="hover:bg-gray-50 dark:hover:bg-gray-600 odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700">
                        <td class="text-xl px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white">#1</td>
                        <td class="px-4 py-3">
                            Mathieu MARCHOIS
                        </th>
                        <td class="px-4 py-3">
                            10 photos
                        </td>
                    </tr>
                    <tr class="hover:bg-gray-50 dark:hover:bg-gray-600 odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700">
                        <td class="px-4 py-3 text-xl font-medium text-gray-900 whitespace-nowrap dark:text-white">#2</td>
                        <td class="px-4 py-3">
                            Floran ROISIN
                        </th>
                        <td class="px-4 py-3">
                            8 photos
                        </td>
                    </tr>
                    <tr class="hover:bg-gray-50 dark:hover:bg-gray-600 odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700">
                        <td class="px-4 py-3 text-xl font-medium text-gray-900 whitespace-nowrap dark:text-white">#3</td>
                        <td class="px-4 py-3">
                            Anais Marchois
                        </th>
                        <td class="px-4 py-3">
                            6 photos
                        </td>
                    </tr>
                </tbody>
            </table>
            <p class="text-gray-500 dark:text-gray-400">
                <a href="{{ path('app_guests_list', {eventUuid: event.uuid }) }}" class="mt-4 inline-flex items-center text-blue-600 dark:text-blue-500 hover:underline">
                    Voir toutes les participants
                    <svg class="w-4 h-4 ms-2 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/>
                    </svg>
                </a>
            </p>
        </div>
        <div class="p-4 bg-white rounded-lg shadow sm:p-6 xl:p-8 dark:bg-gray-800">
            <h2 class="mb-4 text-xl font-bold dark:text-white">Top catégories</h2>
            <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
                <tbody>
                    <tr class="odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
                        <td class="text-xl px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white">#1</td>
                        <td class="px-4 py-3">
                            Coktail
                        </th>
                        <td class="px-4 py-3">
                            10 photos
                        </td>
                    </tr>
                    <tr class="hover:bg-gray-50 dark:hover:bg-gray-600 odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700">
                        <td class="px-4 py-3 text-xl font-medium text-gray-900 whitespace-nowrap dark:text-white">#2</td>
                        <td class="px-4 py-3">
                            Soirée dansante
                        </th>
                        <td class="px-4 py-3">
                            8 photos
                        </td>
                    </tr>
                    <tr class="hover:bg-gray-50 dark:hover:bg-gray-600 odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700">
                        <td class="px-4 py-3 text-xl font-medium text-gray-900 whitespace-nowrap dark:text-white">#3</td>
                        <td class="px-4 py-3">
                            Apéro
                        </th>
                        <td class="px-4 py-3">
                            6 photos
                        </td>
                    </tr>
                </tbody>
            </table>
            <p class="text-gray-500 dark:text-gray-400">
                <a href="{{ path('app_tags_list', {eventUuid: event.uuid }) }}" class="mt-4 inline-flex items-center text-blue-600 dark:text-blue-500 hover:underline">
                    Voir toutes les catégories
                    <svg class="w-4 h-4 ms-2 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/>
                    </svg>
                </a>
            </p>
        </div>
    </div>
    <div class="p-4 mb-4 bg-white rounded-lg shadow sm:p-6 xl:p-8 dark:bg-gray-800">
        <h2 class="mb-4 text-xl font-bold dark:text-white">{{ 'dashboard.participate.title'|trans }}</h2>
        <p class="text-lg text-gray-500 dark:text-gray-400">{{ 'dashboard.participate.description'|trans }}</p>
        <div class="mt-4 flex flex-col items-center justify-center">
            <img class="rounded-lg border-b dark:border-gray-700" src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&margin=15&data={{ event.accessCode }}"/>
            <div class="text-gray-500 dark:text-gray-400 mt-4">
                {{ 'dashboard.participate.access_to_event.code'|trans }} <span class="font-bold">{{ event.accessCode }}</span>
            </div>
            <a href="#" class="mt-4 flex flex-shrink-0 px-3 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg focus:outline-none hover:bg-gray-100 hover:text-primary-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">
                <svg class="h-5 w-5 mr-2 -ml-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linejoin="round" stroke-width="2" d="M16.444 18H19a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h2.556M17 11V5a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v6h10ZM7 15h10v4a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1v-4Z"/>
                </svg>

                {{ 'dashboard.download.print_invitation'|trans }}
            </a>
            <a href="#" class="mt-4 flex flex-shrink-0 px-3 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg focus:outline-none hover:bg-gray-100 hover:text-primary-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">
                <svg class="h-5 w-5 mr-2 -ml-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="m3.5 5.5 7.893 6.036a1 1 0 0 0 1.214 0L20.5 5.5M4 19h16a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1Z"/>
                </svg>

                {{ 'dashboard.download.send_invitation'|trans }}
            </a>
        </div>
    </div>
    <div class="p-4 mb-4 bg-white rounded-lg shadow sm:p-6 xl:p-8 dark:bg-gray-800">
        <h2 class="mb-4 text-xl font-bold dark:text-white">{{ 'event.delete.title'|trans }}</h2>
        {% include 'common/alert/danger.html.twig' with { title: 'event.delete.description'|trans } %}
        <form method="delete" action="{{ path('app_events_delete', { eventUuid: event.uuid }) }}">
            <button type="button" title="{{ 'common.delete'|trans }}" data-modal-target="deleteModal" data-modal-toggle="deleteModal" class="focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900">
                {{ 'common.delete'|trans }}
            </button>
            <input type="hidden" name="token" value="{{ csrf_token('delete-event') }}" />
            {% include 'common/modal/delete.html.twig' with { modalId: 'deleteModal', title: 'event.delete.confirm'|trans } %}
        </form>
    </div>
{% endblock main %}
